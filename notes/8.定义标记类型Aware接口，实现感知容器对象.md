# 一、目标
目前，我们已经实现的Spring框架，在Bean操作上能提供出的能力，包括：
- Bean对象的定义和注册
- 操作Bean对象中执行的各种额外操作（BeanFactoryPostProcessor、BeanPostProcessor、InitializingBean、DisposableBean）
- 以及在XML新增的一些配置处理
这些操作可以让我们的Bean对象有更强的操作性。
  
进一步，如果我们想获得Spring框架提供的BeanFactory、ApplicationContext、BeanClassLoader等这些能力做一些扩展框架的使用时应该怎么操作呢？

因此，本章节希望在Spring框架中提供一种能感知容器操作的接口，如果谁实现了这样的一个接口，就可以获取接口入参中的各类能力。

# 二、设计
首先应该思考的一个问题：

如果我想获取到Spring框架中一些提供的资源，我需要以一个什么方式去获取呢？之后定义出来的获取方式，在Spring框架中又该怎么去承接呢？

具体实现：
定义一个标记性的接口，这个接口不需要有方法，它只起到标记作用就可以，而具体的功能由继承此接口的其他功能性的接口定义具体方法，最终的方法由实现类来实现。
而最终这个接口就可以通过`instanceof`进行判断和调用了。

- 定义接口Aware，在Spring框架中它是一种感知标记性接口，具体的子类定义和实现能感知容器中的相关对象。也就是通过这个桥梁，向具体的实现类中提供容器服务
- 继承Aware的接口包括：BeanFactoryAware、BeanClassLoaderAware、BeanNameAware和ApplicationContextAware（还有其他的关于注解的）
- 在具体的接口实现过程中可以看到，BeanFactoryAware等在factory的support文件夹下，另外ApplicationContextAware在context的support的文件夹中，这是因为不同的内容获取需要在不同的包下提供。

# 三、实现

- 整个类关系就是关于Aware感知的定义和对容器感知的实现
- Aware有四个继承的接口，其他这些接口的继承都是为了继承一个标记
- 另外由于ApplicationContext并不是在AbstractAutowireCapableBeanFactory中createBean方法下的内容，所以需要向容器中注册addBeanPostProcessor，再由createBean统一调用进行操作

